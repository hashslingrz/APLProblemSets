<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Dyalog APL Workshop</title>   
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="oneliners.css" />
    <script src="tio-dyalog.js"></script>
    <script src="testString.js"></script>
    <script src="problems.js"></script>     
    <script src="pako.min.js"></script>    
  </head>
  <body>
    <!-- Add <div class="tab"> for each problem -->
    <!-- Tab buttons created by tabs.js -->
    <!-- Language bar, input field and submit button included by tabs.js -->
    <h1>Part 2: Dfns and assignment</h1>
    <div class="tab">
      <div class="description">      
        <p>
          <br>
          So we have seen how to assign functions and variables to names. We will now write some useful functions as dfns and use them to solve some slightly more complex problems.
          <br><br>
          Scroll down to continue.
          <br><br>
          <strong>Name assignment:</strong>
        </p>
      </div>
      <pre class="apl">
      one←1
      
      three←3
      
      equals←=
      
      plus←+
      
      four←4
      
      four equals one plus three   ⍝ 1 means true, 0 means false
1   
      </pre> 
      <div class="description">
        <p><strong>
          Dfns:
        </p></strong>
      </div>
      <pre class="apl">
      3{⍺}5      ⍝ ⍺ is the (optional) left argument
3
     
      {⍵}'apl'   ⍝ ⍵ is the right argument
apl      

      {⍺}5       ⍝ Calling a dyadic function monadically results in an error
VALUE ERROR
      {⍺}5
      ∧      
      
      3{⍺}       ⍝ Calling a dyadic funcion without a right argument results in an error
SYNTAX ERROR: Missing right argument
      3{⍺}
       ∧      
      </pre>    
    </div>     
    
    <div class="tab">
      <div class="description">
        <ol>
          <li>
            <h3>Utility functions</h3>
            <ol type="a">
              <li>
                Without using <code class="apl">≢</code> (tally), create a function named <code class="apl">Tally</code> which returns the number of elements in a vector.
                <pre class="apl">
      Tally 1 2 4 523 1 2 454
7                
                </pre>
              </li>
              <li>
                Create a function named <code class="apl">Mean</code> which returns the mean average of a numeric vector.
                <pre class="apl">
      Mean 1 2 4 523 1 2 454
141                   
                </pre>
              </li>
              <li>
                Using <code class="apl">⌊</code> ("floor" i.e. round down), create a function <code class="apl">IsDivisibleBy</code> which returns <code class="apl">1</code> if <code class="apl">⍺</code> is divisible by <code class="apl">⍵</code> and <code class="apl">0</code> otherwise.
                <pre class="apl">
      15 IsDivisibleBy 5
1
      15 IsDivisibleBy 6
0
      12 IsDivisibleBy ⍳12
1 1 1 1 0 1 0 0 0 0 0 1                
                </pre>
              </li>
            </ol>            
          </li>
          <li>
            <h3>What remains</h3>
            <ol type="a">
              <li>                                
                <code class="apl">Mod</code> is a <strong>dyadic</strong> function which returns the remainder after its right argument <strong><code class="apl">⍵</code></strong> number is divided by the left argument <strong><code class="apl">⍺</code></strong>. 
                <pre class="apl">
      16÷5  
3.2      
      5 Mod 16   ⍝ 3 5s and 1 left over
1      
      0.2×5      ⍝ 0.2 5s left over
1      
      12 Mod 30
6
      13 Mod 56
4
      5 Mod 30   ⍝ 5 goes into 25 exactly 6 times      
0      
                </pre>
                Write the <code class="apl">Mod</code> function as a dfn.             
              </li>
              <li>
                <strong>b)</strong> Write a function named <code class="apl">Split</code> which takes a fractional number and returns two numbers: its integer and fractional parts.
                <pre class="apl">
      Split 0
0 0
      Split ¯10
¯10 0
      Split 7.62
7 0.62
                </pre>
              </li>
            </ol>
          </li>
          <li>
            <h3>What was in that vector again?</h3>
            You should have a variable named <code class="apl">⎕AVU</code> in your workspace, from <a class="apl" href="intro.html">Part 1</a>. 
            <br><br>
            <ol type="a">
              <li>
                How many even numbers are there in <code class="apl">⎕AVU</code>?
              </li>
              <li>
                What percentage of numbers in <code class="apl">⎕AVU</code> are odd numbers?
              </li>
              <li>
                What percentage of numbers in <code class="apl">⎕AVU</code> are strictly negative?
              </li>
              <li>
                What percentage of numbers in <code class="apl">⎕AVU</code> are strictly positive?
              </li>
              <li>
                What do you notice about the percentage of positive and negative numbers?
              </li>
            </ol>
          </li>
          <li>
            <h3>Prime time</h3>
            A prime number is divisible only by itself and <code class="apl">1</code>.
            <br><br>
            Write a dfn which returns <code class="apl">1</code> if its argument is prime and <code class="apl">0</code> otherwise. 
            <pre class="apl">
      IsPrime 21
0
      IsPrime 17
1
            </pre>
          </li>
        </ol>
      </div>
    </div>   
    <a class="apl nav right" href="selection.html">Next →</a>
    <a class="apl nav left" href="intro.html">← Back</a>
  </body>
</html>